<!DOCTYPE html>
<html>
<head>
    <title>exp1</title>
  <style>

    .inner,.error{
      color: red;
}
  </style>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
 
</head>
<body>
    <h5 class="alert alert-danger mt-1">UserList Example</h5>
    <div class="container">

        <div class="row">
            <h6>Add User In List</h6>
        </div>
      <form action="" id="form">
            <div class="mb-3 row">
                <label for="staticEmail" class="col-sm-2 col-form-label">Email</label>
                <div class="col-sm-4">
                  <input type="text" class="form-control" name="u_email" id="u_email" value="">
                </div>
              </div>

            <div class="mb-3 row">
                <label for="inputname" class="col-sm-2 col-form-label">Name</label>
                <div class="col-sm-4">
                  <input type="text" class="form-control" name="name" id="name">
                  <div class="inner">
                  </div>
                </div>
                <div class="col-sm-2">
                    <button type="submit" id="inputbtn" class="btn btn-primary">Add User</button>
                </div>
              </div>

        </form>





          <div class="row mt-5">
            <div class="col-sm-12">
                <p>User List</p>

                <table class="table" id="tb">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Name</th>
                        <th scope="col">Email</th>
                      </tr>
                    </thead>
                    <tbody  id="user">

                    </tbody>
                  </table>
            </div>
          </div>

        
    </div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>

<script>
$(document).ready(function(){
  var id = 1;
      var ary = [];

  $("#form").validate({
    rules: {
      name: "required",
      u_email: {
        required: true,
        email: true
      }
    },
    messages: {
      name: "Please enter your name",
      u_email: {
        required: "Please enter your email",
        email: "Please enter a valid email address"
      },

    },
    submitHandler: function(form) {
      mydata();
    }
  });
  function mydata(){
      var name = $("#name").val();
      var email = $("#u_email").val();
    
      if(jQuery.inArray(email, ary) != -1) {

        $('.inner').text('Data already exist, Please try with different email !');
        $('.inner').show();
      } else {
        $('.inner').hide();
      $('#user').append('<tr> <td>' + id + '</td><td>' + name + '</td><td class="emal">' + email + '</td> </tr>'); 
    id = id+1;  
      } 
    var eml  
      $(".emal").each(function() {
        eml = $(this).text();
      });
      ary.push(eml);

}

});
</script>
 
</body>
</html>



   